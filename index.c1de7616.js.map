{"mappings":"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","sources":["src/index.js","src/js/features/trend-slider/slider-trends.js","src/templates/slider-content.hbs","src/js/renderMovieList.js","src/js/api/moviedb/searchMovies.js","src/js/api/moviedb/getGenres.js","src/js/helpers/changeGenresIdToName.js","src/js/searchMoviesParam.js","src/js/onSearchFormSubmit.js"],"sourcesContent":["import './js/features/about-us/modalAbout';\nimport './js/features/upToTop/upToTop';\nimport './js/features/theme-switcher/theme-switcher';\nimport './js/features/trend-slider/slider-trends';\nimport './js/features/auth/authModalWindowContent';\nimport './js/helpers/helpers';\nimport { renderMovieList } from './js/renderMovieList';\n\nimport { refs } from './js/constants/refs';\n\nimport { renderTrendingMoviesSetup } from './js/renderMovieList';\nimport { onSearchFormSubmit } from './js/onSearchFormSubmit';\nimport { onPaginationBtnClick } from './js/pagination/onPaginationBtnClick';\n\nimport { authObserver } from './js/api/firebase/api';\nimport {\n  showAuthorisedFields,\n  showUnauthorisedFields,\n} from './js/features/auth/authModalWindowContent';\nimport { search } from './js/api/moviedb/searchMovies';\n\nauthObserver([showAuthorisedFields], [showUnauthorisedFields]);\n\nrenderTrendingMoviesSetup();\nrefs.paginationBox.addEventListener('click', e => {\n  search.pagination = true;\n  onPaginationBtnClick(e.target, renderMovieList);\n});\nrefs.headerForm.addEventListener('submit', onSearchFormSubmit);\n","import Swiper, { Pagination, Autoplay } from 'swiper';\nimport 'swiper/swiper.scss';\nimport 'swiper/modules/pagination/pagination.scss';\n\nimport sliderContent from '../../../templates/slider-content.hbs';\nimport { onFilmCardClick } from '../../onFilmCardClick';\nimport { moviedbApi } from '../../api/moviedb/moviedbapi';\nimport { refs } from '../../constants/refs';\n\nconst TRENDING_END_POINT = 'trending/movie/week';\nconst swiperWrapper = refs.swiperWrapper;\nconst swiperRef = refs.swiperRef;\n\nrenderSwiper();\n\nconst swiper = new Swiper(swiperRef, {\n  modules: [Pagination, Autoplay],\n  loop: true,\n  grabCursor: true,\n\n  breakpoints: {\n    320: {\n      slidesPerView: 1,\n    },\n    768: {\n      slidesPerView: 3,\n      spaceBetween: 25,\n      centeredSlides: false,\n    },\n    1280: {\n      slidesPerView: 6,\n      spaceBetween: 30,\n      centeredSlides: true,\n    },\n  },\n\n  autoplay: {\n    delay: 2500,\n    disableOnInteraction: false,\n    pauseOnMouseEnter: true,\n  },\n  pagination: {\n    el: '.swiper-pagination',\n    clickable: true,\n  },\n});\n\nasync function renderSwiper() {\n  const results = await moviedbApi.get(TRENDING_END_POINT);\n  swiperWrapper.innerHTML = sliderContent(results.data.results);\n  swiper.update();\n  document\n    .querySelectorAll('[data-open-modal]')\n    .forEach(card => card.addEventListener('click', onFilmCardClick));\n}\n","{{#each this}}\n  <div class='swiper-slide' data-action='{{id}}' data-open-modal>\n    <div class='content-wrap'>\n      <img\n        class='swiper-slide__poster'\n        src='https://image.tmdb.org/t/p/w500{{poster_path}}'\n        alt='{{title}}'\n        data-id='{{imdb_id}}'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\"\n      />\n      <div class='slide-thumb'>\n        <h3 class='film-title'>{{title}}</h3>\n        <span class='card__vote'>{{numberFixed vote_average}}</span>\n      </div>\n\n    </div>\n  </div>\n{{/each}}","import { Notify } from 'notiflix';\nimport { refs } from './constants/refs';\nimport { dynRefs } from './constants/dynamicRefs';\nimport { searchMovies, search } from './api/moviedb/searchMovies';\nimport { changeGenresIdToName } from './helpers/changeGenresIdToName';\nimport createMarkUp from '../templates/film-cards.hbs';\nimport { createPagination } from './pagination/createPagination';\nimport { onFilmCardClick } from './onFilmCardClick';\nimport { trendsSearchParams, movieSearchParams } from './searchMoviesParam';\n\nexport async function renderMovieList(page = 1) {\n  search.params.params.page = page;\n  const listOfMovies = await searchMovies(search.params);\n  if (!listOfMovies?.results?.length) {\n    refs.errorMessage.classList.add('header__error-visible');\n\n    Notify.warning('Sorry, there is no result. Please try another keyword');\n\n    setTimeout(function () {\n      refs.errorMessage.classList.remove('header__error-visible');\n    }, 5000);\n\n    return;\n  }\n\n  await changeGenresIdToName(listOfMovies.results);\n  if (!search.pagination && search.params.params.query) {\n    Notify.success(`We found for you ${listOfMovies.total_results} movies`);\n  }\n  refs.mainList.innerHTML = createMarkUp(listOfMovies.results);\n  createPagination(page, listOfMovies.total_pages);\n  dynRefs().movieElements.forEach(card =>\n    card.addEventListener('click', onFilmCardClick)\n  );\n}\n\nexport async function renderTrendingMoviesSetup(page = 1) {\n  search.params = trendsSearchParams;\n  search.params.params.page = page;\n  search.pagination = false;\n  renderMovieList(page);\n}\n\nexport async function renderSearchListSetup(nameForSrc, page = 1) {\n  search.params = movieSearchParams;\n  search.pagination = false;\n  search.params.params.page = page;\n  search.params.params.query = nameForSrc;\n\n  renderMovieList(page);\n  refs.trendingSection.style.display = 'none';\n}\n","import { Notify } from 'notiflix';\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\nimport { moviedbApi } from './moviedbapi';\nimport loader from '../../loader';\n\nexport async function searchMovies(searchParams) {\n  loader();\n  try {\n    const res = await moviedbApi.get(searchParams.END_POINT, {\n      params: searchParams.params,\n    });\n    return res.data;\n  } catch (error) {\n    Notify.failure('Something went wrong');\n    return;\n  } finally {\n    setTimeout(() => {\n      loader();\n    }, 100);\n    \n  }\n}\n\nexport const search = { params: null };\n","import { moviedbApi } from './moviedbapi';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\n\n// Використовуеться для функції changeGenresIdToName\n\nconst END_POINT_MOVIE = 'genre/movie/list';\nconst END_POINT_TV = 'genre/tv/list';\nasync function getMovieGenres() {\n    const response = await moviedbApi.get(END_POINT_MOVIE);\n    return response.data.genres;\n}\nasync function getTvGenres() {\n    const response = await moviedbApi.get(END_POINT_TV);\n    return response.data.genres;\n}\n\nexport async function genres() {\n  const genresMovie = await getMovieGenres();\n  const genresTv = await getTvGenres();\n  const genres = genresTv.concat(genresMovie);\n\n  return genres;\n}\n","import { genres } from '../api/moviedb/getGenres ';\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport \"notiflix/dist/notiflix-3.2.5.min.css\";\n\n// Функцію треба визвати після запиту з бекенда і передати туди результат запиту для замінт id жанру на назву жанру\nexport async function changeGenresIdToName(movies) {\n  try {\n    const genersList = await genres();\n    movies.forEach(element => {\n      const array = element.genre_ids;\n      if (!array) return 'Other';\n      const newArr = array.map(elem => {\n        if (genersList.find(x => x.id === elem)) {\n          return genersList.find(x => x.id === elem).name;\n        } else {\n          return 'Other';\n        }\n      });\n\n      element.genre_ids = newArr;\n    });\n  } catch (error) {\n    Notify.failure(\"Something went wrong\");\n  }\n}\n","export const trendsSearchParams = {\n  END_POINT: 'trending/movie/day',\n  params: {\n    page: 1,\n  },\n  pagination: false,\n};\n\nexport const movieSearchParams = {\n  END_POINT: 'search/movie',\n  params: {\n    query: '',\n    page: 1,\n  },\n  pagination: false,\n};\n","import { Notify } from 'notiflix';\nimport { renderSearchListSetup } from './renderMovieList';\n\nexport function onSearchFormSubmit(name) {\n  name.preventDefault();\n\n  const nameForSrc = name.target.serch_film.value.trim();\n  if (!nameForSrc) {\n    Notify.warning('Searching starts after providing data to search.');\n    return;\n  }\n  renderSearchListSetup(nameForSrc);\n}\n"],"names":["parcelRequire","$iB56l","$a09ea14c1413e519$export$2e2bcd8739ae039","$parcel$interopDefault","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","name","hash","loc","start","line","column","end","compiler","main","stack1","fn","program","inverse","noop","useData","$bb2e4bb0f6bd0ac6$var$swiperWrapper","$8N7ah","refs","swiperWrapper","$bb2e4bb0f6bd0ac6$var$swiperRef","swiperRef","async","results","$bK53f","moviedbApi","get","innerHTML","$bb2e4bb0f6bd0ac6$var$swiper","update","document","querySelectorAll","forEach","card","addEventListener","$kApCy","onFilmCardClick","$bb2e4bb0f6bd0ac6$var$renderSwiper","default","modules","Pagination","Autoplay","loop","grabCursor","breakpoints","slidesPerView","spaceBetween","centeredSlides","autoplay","delay","disableOnInteraction","pauseOnMouseEnter","pagination","el","clickable","$eWCmQ","$4b09f1890db24083$export$b0c4d3ac9887d994","searchParams","$gjiCh","END_POINT","params","error","Notify","failure","setTimeout","$4b09f1890db24083$export$d76128d007d19019","$59b45d5b415644e5$export$be3a0ca764f9df2b","genresMovie","genres","$59b45d5b415644e5$var$getMovieGenres","$59b45d5b415644e5$var$getTvGenres","concat","$188a8f6bd52c7450$export$36e41f94924b315e","movies","genersList","element","array","genre_ids","newArr","map","elem","find","x","id","$iQIUW","$77dcb0ec342b9eff$export$d0044e1e344828c4","page","$77dcb0ec342b9eff$export$85fa40dbfedc8d0f","query","$6cff5fb303fe183a$export$42788b849dfd69ff","listOfMovies","length","errorMessage","classList","add","warning","remove","success","total_results","mainList","$bJAXj","$gBq5n","createPagination","total_pages","$a7QPo","dynRefs","movieElements","$6cff5fb303fe183a$export$33f3906dbd43c6a6","nameForSrc","trendingSection","style","display","$eAZYX","authObserver","$kQePK","showAuthorisedFields","showUnauthorisedFields","paginationBox","e","$7n5ZG","onPaginationBtnClick","target","headerForm","preventDefault","serch_film","value","trim"],"version":3,"file":"index.c1de7616.js.map"}