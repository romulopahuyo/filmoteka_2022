!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},t={},i=n.parcelRequire41ed;null==i&&((i=function(e){if(e in a)return a[e].exports;if(e in t){var n=t[e];delete t[e];var i={id:e,exports:{}};return a[e]=i,n.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,n){t[e]=n},n.parcelRequire41ed=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.072a823a.js","ee16w":"sprite.f5fc53ad.svg","ddf6F":"index.adedf0e7.css","2hvCh":"index.728a12bf.js"}')),i("2dapN"),i("3xbLc"),i("68yid");var r=i("e1ad9");var o=e(i("WMajR")).template({1:function(e,n,a,t,i){var r,o=null!=n?n:e.nullContext||{},l=e.hooks.helperMissing,s="function",c=e.escapeExpression,d=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return"  <div class='swiper-slide' data-action='"+c(typeof(r=null!=(r=d(a,"id")||(null!=n?d(n,"id"):n))?r:l)===s?r.call(o,{name:"id",hash:{},data:i,loc:{start:{line:2,column:41},end:{line:2,column:47}}}):r)+"' data-open-modal>\n    <div class='content-wrap'>\n      <img\n        class='swiper-slide__poster'\n        src='https://image.tmdb.org/t/p/w500"+c(typeof(r=null!=(r=d(a,"poster_path")||(null!=n?d(n,"poster_path"):n))?r:l)===s?r.call(o,{name:"poster_path",hash:{},data:i,loc:{start:{line:6,column:44},end:{line:6,column:59}}}):r)+"'\n        alt='"+c(typeof(r=null!=(r=d(a,"title")||(null!=n?d(n,"title"):n))?r:l)===s?r.call(o,{name:"title",hash:{},data:i,loc:{start:{line:7,column:13},end:{line:7,column:22}}}):r)+"'\n        data-id='"+c(typeof(r=null!=(r=d(a,"imdb_id")||(null!=n?d(n,"imdb_id"):n))?r:l)===s?r.call(o,{name:"imdb_id",hash:{},data:i,loc:{start:{line:8,column:17},end:{line:8,column:28}}}):r)+"'\n        onerror=\"this.onerror=null;this.src='https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-';\"\n      />\n      <div class='slide-thumb'>\n        <h3 class='film-title'>"+c(typeof(r=null!=(r=d(a,"title")||(null!=n?d(n,"title"):n))?r:l)===s?r.call(o,{name:"title",hash:{},data:i,loc:{start:{line:12,column:31},end:{line:12,column:40}}}):r)+"</h3>\n        <span class='card__vote'>"+c((d(a,"numberFixed")||n&&d(n,"numberFixed")||l).call(o,null!=n?d(n,"vote_average"):n,{name:"numberFixed",hash:{},data:i,loc:{start:{line:13,column:33},end:{line:13,column:61}}}))+"</span>\n      </div>\n\n    </div>\n  </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,n,a,t,i){var r;return null!=(r=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(a,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i,loc:{start:{line:1,column:0},end:{line:18,column:9}}}))?r:""},useData:!0}),l=i("5QZZU"),s=i("7fSv3"),c=i("5DkEY");const d=c.refs.swiperWrapper,u=c.refs.swiperRef;!async function(){const e=await s.moviedbApi.get("trending/movie/week");d.innerHTML=o(e.data.results),p.update(),document.querySelectorAll("[data-open-modal]").forEach((e=>e.addEventListener("click",l.onFilmCardClick)))}();const p=new(0,r.default)(u,{modules:[r.Pagination,r.Autoplay],loop:!0,grabCursor:!0,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:3,spaceBetween:25,centeredSlides:!1},1280:{slidesPerView:6,spaceBetween:30,centeredSlides:!0}},autoplay:{delay:2500,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:".swiper-pagination",clickable:!0}});var f=i("fkmi9");i("a1JIm");var m=i("iU1Pc"),g=(c=i("5DkEY"),i("d9qHp")),h=(m=i("iU1Pc"),s=i("7fSv3"),i("kvC6y"));async function v(e){(0,h.default)();try{return(await s.moviedbApi.get(e.END_POINT,{params:e.params})).data}catch(e){return void m.Notify.failure("Something went wrong")}finally{setTimeout((()=>{(0,h.default)()}),100)}}const y={params:null};s=i("7fSv3");i("h6c0i");async function w(){const e=await async function(){return(await s.moviedbApi.get("genre/movie/list")).data.genres}();return(await async function(){return(await s.moviedbApi.get("genre/tv/list")).data.genres}()).concat(e)}var _=i("h6c0i");async function b(e){try{const n=await w();e.forEach((e=>{const a=e.genre_ids;if(!a)return"Other";const t=a.map((e=>n.find((n=>n.id===e))?n.find((n=>n.id===e)).name:"Other"));e.genre_ids=t}))}catch(e){_.Notify.failure("Something went wrong")}}var E=i("1ZLLT"),k=i("fZtXX");l=i("5QZZU");const x={END_POINT:"trending/movie/day",params:{page:1},pagination:!1},O={END_POINT:"search/movie",params:{query:"",page:1},pagination:!1};async function P(e=1){var n;y.params.params.page=e;const a=await v(y.params);if(!(null==a||null===(n=a.results)||void 0===n?void 0:n.length))return c.refs.errorMessage.classList.add("header__error-visible"),m.Notify.warning("Sorry, there is no result. Please try another keyword"),void setTimeout((function(){c.refs.errorMessage.classList.remove("header__error-visible")}),5e3);await b(a.results),!y.pagination&&y.params.params.query&&m.Notify.success(`We found for you ${a.total_results} movies`),c.refs.mainList.innerHTML=(0,E.default)(a.results),(0,k.createPagination)(e,a.total_pages),(0,g.dynRefs)().movieElements.forEach((e=>e.addEventListener("click",l.onFilmCardClick)))}async function S(e,n=1){y.params=O,y.pagination=!1,y.params.params.page=n,y.params.params.query=e,P(n),c.refs.trendingSection.style.display="none"}c=i("5DkEY"),m=i("iU1Pc");var N=i("27Zo0"),F=i("6bgo7");f=i("fkmi9");(0,F.authObserver)([f.showAuthorisedFields],[f.showUnauthorisedFields]),async function(e=1){(y.params=x).params.page=e,y.pagination=!1,P(e)}(),c.refs.paginationBox.addEventListener("click",(e=>{y.pagination=!0,(0,N.onPaginationBtnClick)(e.target,P)})),c.refs.headerForm.addEventListener("submit",(function(e){e.preventDefault();const n=e.target.serch_film.value.trim();n?S(n):m.Notify.warning("Searching starts after providing data to search.")}))}();
//# sourceMappingURL=index.072a823a.js.map
